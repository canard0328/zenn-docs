---
title: "æ•°ç†æœ€é©åŒ–å®šå¼åŒ–ã®ã‚³ãƒ„"
emoji: "ğŸ“"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Python", "matplotlib"]
published: false
---

# é…é€è¨ˆç”»ã§çµŒè·¯ãŒï¼å€‹ä»¥ä¸Šã®ã‚µã‚¤ã‚¯ãƒ«ã‹ã‚‰ãªã‚‹

- åœ°ç‚¹$l$ã«å‘ã‹ã†ç§»å‹•ã¯ã€é«˜ã€…ï¼‘ã¤ã—ã‹è¨±ã•ã‚Œãªã„

$$
\sum_{k \in K}x_{dkl} \le 1 \quad (d \in [D], l \in K)
$$

ã“ã“ã§$K$ã¯åœ°ç‚¹ã®é›†åˆã€$D$ã¯è¨ˆç”»ç«‹æ¡ˆæœŸé–“ã®æ—¥æ•°ã€$x_{dkl} \in {0, 1}$ã¯ã€$d(\in [D])$æ—¥ã«åœ°ç‚¹$k(\in K)$ã‹ã‚‰$l(\in K)$ã¸ã®ç§»å‹•ãŒã‚ã‚Œã°ï¼‘ã€ãã†ã‚Œãªã‘ã‚Œã°ï¼ã€‚

- åœ°ç‚¹$l$ã«å‘ã‹ã†ç§»å‹•ã®æœ‰ç„¡ã¯åœ°ç‚¹$l$ã‚’å‡ºã‚‹ç§»å‹•ã®æœ‰ç„¡ã¨ä¸€è‡´ã™ã‚‹

$$
\sum_{k \in K}x_{dkl} = \sum_{k \in K}x_{dlk} \quad (d \in [D], l \in K)
$$

ã“ã®ï¼’ã¤ã®åˆ¶ç´„ã§ç§»å‹•çµŒè·¯ãŒã€Œï¼å€‹ä»¥ä¸Šã®ã‚µã‚¤ã‚¯ãƒ«ã‹ã‚‰ãªã‚‹ã€ã“ã¨ãŒä¿è¨¼ã•ã‚Œã‚‹ãŒã€é…é€æ‹ ç‚¹$o$ã‚’é€šã‚‰ãªã„ã‚ˆã†ãªã‚µã‚¤ã‚¯ãƒ«ã‚‚å­˜åœ¨ã—ã¦ã—ã¾ã†ã€‚
ã“ã‚Œã‚’é˜²ããŸã‚ã«ã€è£œåŠ©å¤‰æ•°$u_{dk}$ã‚’åˆ©ç”¨ã—ã¦ã€é…é€æ‹ ç‚¹$o$ã‚’é€šã‚‰ãªã„ã‚µã‚¤ã‚¯ãƒ«ã®ç™ºç”Ÿã‚’ç¦æ­¢ã™ã‚‹ã€‚
ã“ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã¯å·¡å›ã‚»ãƒ¼ãƒ«ã‚¹ãƒãƒ³å•é¡Œã®MTZå®šå¼åŒ–ï¼ˆMiller-Tucker-Zemlinï¼‰ã§ç”¨ã„ã‚‰ã‚Œã‚‹ã€‚

$$
u_{do} = 0 \\
u_{dk} \ge 1 \quad (k \in K\backslash \{o\}) \\
u_{dk} + 1 \le u_{dl} + (|K| - 1)(1 - x_{dkl}) \quad (k, l \in K\backslash \{o\})
$$

ã“ã“ã§ã€$u_{dk}$ã¯ã€$u_{dk} \in [0, |K| - 1] \quad (d \in [D], k \in K)$ã§ã‚ã‚‹ï¼ˆ$[0, |K| - 1]$ã¯$0$ä»¥ä¸Š$|K|-1$ä»¥ä¸‹ã®å®Ÿæ•°å…¨ä½“ã®é›†åˆã‚’è¡¨ã™ï¼‰ã€‚
$d$æ—¥ã®ç§»å‹•çµŒè·¯ã«ãŠã„ã¦ã€$k_1, k_2, k_3 \in K\backslash \{o\}$ãŒã‚µã‚¤ã‚¯ãƒ«ã‚’ãªã—ã¦ã„ã‚‹ã¨ä»®å®šã™ã‚‹ã€‚
ã“ã®ã¨ã$x_{dk_{1}k_{2}} = x_{dk_{2}k_{3}} = x_{dk_{3}k_{1}} = 1$ãªã®ã§ã€ä¸Šè¨˜åˆ¶ç´„ã®ï¼“ç•ªç›®ã®å¼ã‹ã‚‰æ¬¡ã®ä¸ç­‰å¼ãŒå¾—ã‚‰ã‚Œã‚‹ã€‚

$$
u_{dk_{1}} + 1 \le u_{dk_{2}} \\
u_{dk_{2}} + 1 \le u_{dk_{3}} \\
u_{dk_{3}} + 1 \le u_{dk_{1}}
$$

ã“ã‚Œã‚‰ã‚’è¶³ã—åˆã‚ã›ã‚‹ã¨

$$
\sum_{i=1,2,3}u_{dk_{i}} + 3 \le \sum_{i=1,2,3}u_{dk_{i}}
$$

ã¨ãªã‚Šã€ã“ã‚Œã¯$u$ã‚’ã©ã®ã‚ˆã†ã«ã¨ã£ã¦ã‚‚æº€ãŸã™ã“ã¨ãŒã§ããªã„ã€‚ã—ãŸãŒã£ã¦ã€$k_1, k_2, k_3 \in K\backslash \{o\}$ãŒã‚µã‚¤ã‚¯ãƒ«ã‚’ãªã™ã“ã¨ãŒç¦æ­¢ã•ã‚Œã„ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚ä»»æ„ã®é•·ã•ã®$o$ã‚’é€šã‚‰ãªã„ã‚µã‚¤ã‚¯ãƒ«ãŒç¦æ­¢ã•ã‚Œã‚‹ã“ã¨ã‚‚ã€åŒæ§˜ã®è­°è«–ã§ã‚ã‹ã‚‹ã€‚
æ¬¡ã«ã€ä¾‹ãˆã°$K={o, k_1, k_2, k_3, k_4, k_5, k_6}$ã§$o, k_1, k_2, k_3$ã ã‘ãŒã‚µã‚¤ã‚¯ãƒ«ã‚’ãªã™å ´åˆã«ã€å®Ÿéš›ã«åˆ¶ç´„é•åã¨ãªã‚‰ãªã„$u_{dk}$ã®å€¤ã®å–ã‚Šæ–¹ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚
$x_{dkl}=0$ã®ã¨ãã¯$u_{dk}+1 \le u_{dl} + |K| - 1$ã¨ãªã‚‹ãŒã€$u_{dk}(k \ne o)$ã¯ï¼‘ä»¥ä¸Š$|K|-1$ä»¥ä¸‹ã®å€¤ã‚’ã¨ã‚‹ã¨ã„ã†æ¡ä»¶ã‹ã‚‰å¸¸ã«æˆã‚Šç«‹ã¡ã€åˆ¶ç´„ã¨ã—ã¦æœ‰åŠ¹ã«ãªã‚‰ãªã„ã€‚
ã•ã‚‰ã«ã€$k=0$ã‹$l=o$ã«ã¤ã„ã¦ã€ãã‚‚ãã‚‚$k, l in K\backslash \{o\}$ã®ãŸã‚å¯¾è±¡å¤–ã€‚
ã—ãŸãŒã£ã¦ä¸Šè¨˜åˆ¶ç´„ã®ï¼“ç•ªç›®ã®å¼ã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹ä¸ç­‰å¼ã¯æ¬¡ã®ï¼’å¼ã§ã‚ã‚‹ã€‚

$$
u_{dk_{1}} + 1 \le u_{dk_{2}} \\
u_{dk_{2}} + 1 \le u_{dk_{3}}
$$

ã“ã“ã§æ¬¡ã®ã‚ˆã†ã«$u$ã«å€¤ã‚’å‰²ã‚ŠæŒ¯ã‚‹ã¨ã€åˆ¶ç´„é•åã¨ãªã‚‰ãªã„$u_{dk}$ã®å€¤ã®æŒ¯ã‚Šæ–¹ã¨ãªã‚Šã€$x_{dkl}$ãŒå®Ÿè¡Œå¯èƒ½ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã€‚
å®Ÿè¡Œå¯èƒ½è§£ã§ã¯ã€$u_{dk}$ã®å€¤ã¯å„åœ°ç‚¹ã«è¨ªå•ã™ã‚‹é †åºã‚’è¡¨ã™ã€‚


# é…é€è¨ˆç”»ã§å·¡å›ã‚»ãƒ¼ãƒ«ã‚¹ãƒãƒ³å•é¡Œã‚’è¤‡æ•°æ—¥åŒæ™‚ã«è§£ãã®ã‚’é¿ã‘ã‚‹

## ç´ ç›´ãªãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã ãŒè§£ã‘ãªã„ï¼ˆè¨ˆç®—é‡å¤§ï¼‰ãƒ‘ã‚¿ãƒ¼ãƒ³

- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
  - $D \in N$ï¼šè¨ˆç”»ç«‹æ¡ˆã®å¯¾è±¡æ—¥æ•°ã€‚$D \ge 1$
  - $K$ï¼šåœ°ç‚¹ã®é›†åˆ
  - $t_{kl}(k, l \in K)$ï¼šç§»å‹•æ™‚é–“ã€‚ãŸã ã—$t_{kl} \ge 0, t_{kk} = 0$
  - $o \in K$ï¼šè‡ªç¤¾æ‹ ç‚¹ã‚’è¡¨ã™åœ°ç‚¹
  - $R$ï¼šæ³¨æ–‡ã®é›†åˆ
  - æ³¨æ–‡$r \in R$ã«ã¤ã„ã¦
    - $k_r(\in K)$ï¼šæ³¨æ–‡$r$ã®å±Šã‘å…ˆåœ°ç‚¹
    - $d_r^0, d_r^1 \in [D]$ï¼šé…é€æŒ‡å®šæœŸé–“ã€‚$d_r^0 \le d_r^1$
    - $w_r$ï¼šé‡é‡ã€‚$w_r \ge 0$
    - $f_r$ï¼šé…é€ã®å¤–éƒ¨å§”è¨—è²»ç”¨ã€‚$f_r \ge 0$
  - $H^0$ï¼šæ‰€å®šåŠ´åƒæ™‚é–“ã€‚$H^0 > 0$
  - $W$ï¼šãƒˆãƒ©ãƒƒã‚¯ã®æœ€å¤§ç©è¼‰é‡ã€‚$W > 0$
  - $c$ï¼š1æ™‚é–“å½“ãŸã‚Šã®æ®‹æ¥­ä»£ã€‚$c > 0$
  - $H^1$ï¼šæœ€å¤§æ®‹æ¥­æ™‚é–“ã€‚$H^1 \ge 0$
- æ±ºå®šä¿‚æ•°
  - $x_{dkl} \in \{0, 1\} \quad (d \in [D], k, l \in K)$ï¼šè‡ªç¤¾ãƒˆãƒ©ãƒƒã‚¯ã®ç§»å‹•
  - $y_{dr} \in \{0, 1\} \quad (d \in [D], r \in R)$ï¼šè‡ªç¤¾ãƒˆãƒ©ãƒƒã‚¯ã«ã‚ˆã‚‹é…é€
  - $u_{dk} \in [0, |K|-1] \quad (\in \mathbb{R})$ï¼šç§»å‹•ã®é †åºã‚’è¡¨ã™è£œåŠ©å¤‰æ•°
  - $h_d \in \mathbb{R}_+ \quad (d \in [D])$ï¼šæ®‹æ¥­æ™‚é–“ã‚’è¡¨ã™è£œåŠ©å¤‰æ•°
- åˆ¶ç´„æ¡ä»¶
  - $\sum_{k \in K}x_{dkl} \le 1 \quad (d \in [D], l \in K)$
  - $\sum_{k \in K}x_{dkl} = \sum_{k \in K}x_{dlk} \quad (d \in [D], l \in K)$
  - $u_{do} = 0 \quad (d \in [D])$
  - $u_{dk} \ge 1 \quad (d \in [D], k \in K \backslash \{o\})$
  - $u_{dk}+1 \le u_{dl}+(|K|-1)(1-x_{dkl}) \quad (k, l \in K\backslash \{o\})$
  - $\sum_{d}y_{dr} \le 1 \quad (r \in R)$
  - $y_{dr} \le \sum_{k} x_{dkk_{r}} (d \in [D], r \in R)$
  - $\sum_{r} w_r y_{dr} \le W \quad (d \in [D])$
  - $\sum_{k, l \in K}{t_{kl}x_{dkl}} - H^0 \le h_d \quad (d \in [D])$
  - $h_d \le H^1 \quad (d \in [D])$
  - $\sum_{d \in [D]\backslash [d_r^0, d_r^1]} y_{dr} = 0 \quad (r \in R)$
- ç›®çš„é–¢æ•°ï¼ˆæœ€å°åŒ–ï¼‰
  - $c\sum_{d\in [D]}h_d + \sum_{r\in R}{f_r (1-\sum_{d\in [D]}y_{dr})}$

## æ—¥ã”ã¨ã«ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’äº‹å‰ã«åˆ—æŒ™ã—ã¦ãŠãã“ã¨ã§å¯èƒ½ã¨ãªã‚‹ãƒ¢ãƒ‡ãƒªãƒ³ã‚°


# çµ¶å¯¾å€¤ã®å€¤ã‚’æœ€å°åŒ–ã—ãŸã„å ´åˆã«ã¯ã€éè² ã®è£œåŠ©å¤‰æ•°ã‚’å°å…¥ã—ã¦ä¸Šä¸‹ã§æŒŸã‚€

[ã“ã¡ã‚‰ã®ãƒ–ãƒ­ã‚°](https://yamaimo.hatenablog.jp/entry/2022/12/11/220000)ã‚ˆã‚Šã€‚

$$
\min_a |a| \Leftrightarrow \min m, \quad \rm{sub. to} -m_i \le a \le m, \quad m \ge 0
$$